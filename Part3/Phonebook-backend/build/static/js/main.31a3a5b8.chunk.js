(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(14),a=n.n(i),o=n(3),s=n(0),u=function(e){var t=e.newFilter,n=e.handleFilterChange;return Object(s.jsx)("input",{value:t,onChange:n})},d=function(e){var t=e.createPerson,n=e.handleChange,r=e.newNumber,c=e.handleNumberChange,i=e.newName;return Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{type:"text",value:i,onChange:n})]}),Object(s.jsxs)("div",{children:["number:"," ",Object(s.jsx)("input",{type:"number",value:r,onChange:c})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var t=e.filterLength,n=e.filterName,r=e.displayNames;return Object(s.jsx)(s.Fragment,{children:t>0?Object(s.jsx)("ul",{className:"filtered-list",children:n.map((function(e){return Object(s.jsxs)("li",{children:[e.name," ",Object(s.jsx)("span",{children:e.number})]},e.id)}))}):Object(s.jsx)("ul",{className:"list-style",children:r})})},b=n(4),j=n.n(b),h="/api/persons",f=function(){return j.a.get(h).then((function(e){return e.data}))},m=function(e){return j.a.post(h,e).then((function(e){return e.data}))},O=function(e){return j.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},g=function(e){var t=e.message,n=e.style;return null===t?null:Object(s.jsx)("div",{style:n,children:t})},p=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(""),a=Object(o.a)(i,2),b=a[0],j=a[1],h=Object(r.useState)(),p=Object(o.a)(h,2),x=p[0],y=p[1],v=Object(r.useState)(""),S=Object(o.a)(v,2),w=S[0],N=S[1],C=Object(r.useState)("User addition status... pending..."),k=Object(o.a)(C,2),B=k[0],F=k[1],L=Object(r.useState)({color:"grey",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}),z=Object(o.a)(L,2),P=z[0],R=z[1],T={color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},U={color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};Object(r.useEffect)((function(){f().then((function(e){return c(e)}))}),[]);var D=n.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())})),E=w.length,J=n.map((function(e){return Object(s.jsxs)("li",{children:[e.name,Object(s.jsx)("span",{children:e.number}),Object(s.jsx)("span",{children:Object(s.jsx)("button",{onClick:function(){return A(e.id)},children:"Delete"})})]},e.id)})),A=function(e){O(e).then((function(t){return c(n.filter((function(t){return t.id!==e})))})).catch((function(e){F("The user ".concat(b," has already been deleted")),R(U)}))};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"PhoneBook"}),Object(s.jsx)(g,{style:P,message:B}),Object(s.jsx)("div",{children:Object(s.jsxs)("h2",{children:["Search by name",Object(s.jsx)("span",{children:Object(s.jsx)(u,{newFilter:w,handleFilterChange:function(e){N(e.target.value)}})})]})}),Object(s.jsx)("h3",{children:"Add people"}),Object(s.jsx)(d,{createPerson:function(e){if(e.preventDefault(),n.some((function(e){return e.name===b}))){if(window.confirm("".concat(b," is already added to the phonebook, would you like to edit the number?")))n.find((function(e){return e.name===b})).name}else m({name:b,number:x}).then((function(e){return c(n.concat(e))})).catch((function(e){F("".concat(e.response.data.error)),R(U)})),setTimeout((function(){F("User ".concat(b," has been successfully added to the list")),R(T)}),0),setTimeout((function(){F("User addition status... pending...")}),5e3);j(""),y("")},handleChange:function(e){j(e.target.value)},newNumber:x,handleNumberChange:function(e){y(e.target.value)},newName:b}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(l,{filterLength:E,displayNames:J,filterName:D})]})};n(38);a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.31a3a5b8.chunk.js.map